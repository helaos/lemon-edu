<template>
  <div class="Page Confirm">
    <div class="Title">
      <h1 class="fl f18">è®¢å•ç¡®è®¤</h1>
      <img src="~/assets/img/cart_setp2.png" class="fr">
      <div class="clear"></div>
    </div>
    <form name="flowForm" id="flowForm" method="post" action="">
      <table class="GoodList">
        <tbody>
          <tr>
            <th class="name">å•†å“</th>
            <th class="price">åŸä»·</th>
            <th class="priceNew">ä»·æ ¼</th>
          </tr>
        </tbody>
        <tbody>
          <!-- <tr>
        <td colspan="3" class="Title red f18 fb"><p>é™æ—¶æŠ˜æ‰£</p></td>
        </tr> -->
          <tr>
            <td colspan="3" class="teacher">è®²å¸ˆï¼š{{order.teacherName}}</td>
          </tr>
          <tr class="good">
            <td class="name First">
              <a target="_blank" :href="'https://localhost:3000/course/' + order.courseId">
                <img :src="order.courseCover"></a>
              <div class="goodInfo">
                <input type="hidden" class="ids ids_14502" value="14502">
                <a target="_blank" :href="'https://localhost:3000/course/' + order.courseId">{{order.courseTitle}}</a>
              </div>
            </td>
            <td class="price">
              <p>ï¿¥<strong>{{order.totalFee}}</strong></p>
              <!-- <span class="discName red">é™æ—¶8æŠ˜</span> -->
            </td>
            <td class="red priceNew Last">ï¿¥<strong>{{order.totalFee}}</strong></td>
          </tr>
          <tr>
            <td class="Billing tr" colspan="3">
              <div class="tr">
                <p>å…± <strong class="red">1</strong> ä»¶å•†å“ï¼Œåˆè®¡<span
                    class="red f20">ï¿¥<strong>{{order.totalFee}}</strong></span></p>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="Finish">
        <div class="fr" id="AgreeDiv">
          <label for="Agree">
            <p class="on"><input type="checkbox" checked="checked">æˆ‘å·²é˜…è¯»å¹¶åŒæ„<a href="javascript:"
                target="_blank">ã€ŠæŸ æª¬ğŸ‹æ•™è‚²è´­ä¹°åè®®ã€‹</a></p>
          </label>
        </div>
        <div class="clear"></div>
        <div class="Main fl">
          <div class="fl">
            <a :href="'/course/'+order.courseId">è¿”å›è¯¾ç¨‹è¯¦æƒ…é¡µ</a>
          </div>
          <div class="fr">
            <p>å…± <strong class="red">1</strong> ä»¶å•†å“ï¼Œåˆè®¡<span class="red f20">ï¿¥<strong
                  id="AllPrice">{{order.totalFee}}</strong></span></p>
          </div>
        </div>
        <input name="score" value="0" type="hidden" id="usedScore">
        <button class="fr redb" type="button" id="submitPay" @click="toPay()">å»æ”¯ä»˜</button>
        <div class="clear"></div>
      </div>
    </form>
  </div>
</template>

<script>
  import order from '@/api/order'
  export default {
    //æ ¹æ®è®¢å•idè·å–è®¢å•ä¿¡æ¯
    asyncData({
      params,
      error
    }) {
      return order.getOrdersInfo(params.no).then(response => {
        return {
          order: response.data.data.item
        }
      })
    },
    methods: {
      //ç‚¹å‡»å»æ”¯ä»˜ï¼Œè·³è½¬åˆ°æ”¯ä»˜é¡µé¢
      toPay() {
        this.$router.push({
          path: '/pay/' + this.order.orderNo
        })
      }
    }
  }

</script>
